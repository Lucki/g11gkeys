# Maintainer: Lucki <https://aur.archlinux.org/account/Lucki>
# shellcheck disable=SC2034,2154,2148

pkgname=g11gkeys
pkgver=0.0.2
pkgrel=1
source=("$pkgname-$pkgver.src.tar.gz::https://github.com/Lucki/$pkgname/archive/refs/tags/$pkgver.tar.gz")
sha512sums=('34dce9c1d6476139f2ce4786d042749bf91722a273ac2fb392ea2eea5c0e2fe56d80214b784601082f25b40db74ae56b2f7419a5dd09e9afdc7e0a2831ea7794')

pkgdesc="Handle Logitech G11 keys and call scripts for them"
arch=('x86_64')
url="https://github.com/Lucki/g11gkeys"
license=('unknown')
depends=('macro-manager' 'glib2' 'libg15')
makedepends=('meson' 'vala' 'ninja' 'xdotool')

build() {
    arch-meson "$pkgname-$pkgver" "build_pkgbuild"
    meson compile -C "build_pkgbuild"
}

package() {
    meson install -C "build_pkgbuild" --destdir "$pkgdir"

    install -Dm644 "$pkgname-$pkgver/dist/$pkgname.service" "$pkgdir/usr/lib/systemd/user/$pkgname.service"
}
